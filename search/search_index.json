{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Sasto Tickets Web-SDK Integration","text":""},{"location":"#introduction","title":"Introduction","text":"<p>The Web SDK allows you to integrate the service provided by Sasto Ticket into your web application. This document provided an overview of the SDK, how to initialize it, and how to handle success and failure scenarios.</p>"},{"location":"#api-documentation","title":"API Documentation","text":"<p>For more detailed information about the API integration, please refer to the API Documentation. This documentation provides in-depth explanations and examples of the API endpoints and their usage.</p>"},{"location":"#initialization","title":"Initialization","text":"<p>To initializxe the Web SDK, you need to open a specic URL with additional parameters encoded in Base64.</p> <p>The SDK initialization URL should follow the format:</p> <pre><code>https://demo.sastotickets.com/?data=&lt;base64_encoded_parameters&gt;\n</code></pre>"},{"location":"#parameters","title":"Parameters","text":"<p>The parameters should be encoded in Base64 format and contain the necessary information for the SDK. Here's an example of the encoded parameter structure:</p> <pre><code>{\n    \"access_token\": \"&lt;your_access_token&gt;\", //required\n    \"phone_number\" : \"9801234567\", //required\n    \"wallet_balance\": 2000,\n    \"app_theme\":\"System\",\n    \"success_url\":\"https://domain.com/success\",\n    \"failure_url\":\"https://domain.com/failure\"\n}\n</code></pre> <p>Encode the entire JSON structure in Base64, including the access token, and replace <code>&lt;base64_encoded_parameters&gt;</code> in the initialization URL with the actual encoded parameters.</p> Note: Replace &lt;your_access_token&gt; with the actual access token you obtain by following the instructions in the API documentation. <p>Note: When implementing for web, make sure to provide valid success_url and failure_url values. These URLs will be used for redirection upon success or failure of the SDK integration.</p> <p>For Android and iOS implementations, success_url and failure_url can be left as null or omitted from the JSON structure. In such cases, the SDK will redirect the user to our default domain for success or failure.</p> <p>Note: The app_theme field is optional and can be left as null or omitted from the JSON structure. In such cases, the system theme will be used by default."},{"location":"#flight-booking-ticketing-workflow","title":"Flight Booking &amp; Ticketing Workflow","text":"<p>The flight booking and ticketing worl=kflow consists of the following steps:</p> <pre><code>Step 1. Flight Search\nStep 2. Availability\nStep 3. Reservation\nStep 4. Payment\nStep 5. Issue Ticket\n</code></pre> <p>Web-SDK will handle the <code>1. Flight Search</code>, <code>2. Availability</code> &amp; <code>3. Reservation</code> part and the <code>4. Payment</code> and <code>5. Issue Ticket</code> should be implemented at the your end.</p> <p>After the completion of <code>3. Reservation</code> Web-SDK will redirct to the success url with necessary payload required to call <code>5. Issue Ticket</code> API</p>"},{"location":"#success-and-failure-handling","title":"Success and Failure Handling","text":"<p>After the SDK completes its task, it will redirect the use to the specified success or failure url provided in the encoded data of the parameter.</p>"},{"location":"#success-url","title":"Success URL","text":"<p>The success URL is the web page where the user will be redirected upon a successful completion of the flight booking and ticketing workflow. The success URL will include a payload encoded in Base64 as a query parameter. Ensure that the success URL can receive and process this payload.</p>"},{"location":"#payload","title":"Payload","text":"<pre><code>    https://domain.com/success?data=&lt;base64_encoded_payload&gt;\n</code></pre> <p>In the example, the success URL includes a query parameter called data, which contains Base-64 encoded payload.</p> <p>Here's an example of the encoded payload structure for the </p> OnewayRound Trip <pre><code>{\n\"totalCost\": 15384,\n\"bearerToken\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUz\",\n\"flightsSummary\": {\n    \"departureFlight\": {\n        \"carrierCode\": \"GUA\",\n        \"carrierLogo\": \"https://sastotickets-uat-flights.s3.ap-southeast-1.amazonaws.com/airlines/1660816647-1480147710.png\",\n        \"carrierName\": \"Guna Airlines\",\n        \"deptDate\": \"2023-01-01\",\n        \"deptTime\": \"08:00 AM\",\n        \"arrivalDate\": \"2023-01-01\",\n        \"arrivalTime\": \"08:23 AM\",\n        \"departureAirportCode\": \"KTM\",\n        \"departureAirport\": \"Tribhuvan Int\u2019l Airport\",\n        \"departureCity\": \"Kathmandu\",\n        \"departureCountry\": \"Nepal\",\n        \"arrivalAirportCode\": \"PKR\",\n        \"arrivalAirport\": \"Pokhara Airport\",\n        \"arrivalCity\": \"Pokhara\",\n        \"arrivalCountry\": \"Nepal\"\n    },\n    \"returnFlight\": \"null\"\n},\n\"emergencyContact\": {\n    \"contact\": \"9849123456\",\n    \"email\": \"info@sastotickets.com\",\n    \"name\": \"SastoTicket\"\n},\n\"bookingSummary\": {\n    \"PNR\": \"BNY5SO\",\n    \"currency\": \"NPR\",\n    \"fareInformation\": {\n        \"cashBack\": 0,\n        \"total_adt\": 74635,\n        \"total_chd\": 0,\n        \"total_cost\": 74635,\n        \"total_inf\": 0\n    },\n    \"passengers\": [\n        {\n            \"passenger_id\": \"ST2785\",\n            \"passenger_name\": \"Gurung Sujan\",\n            \"passenger_type\": \"ADT\"\n        },\n        {\n            \"passenger_id\": \"ST2786\",\n            \"passenger_name\": \"Thapa Bardan\",\n            \"passenger_type\": \"ADT\"\n        },\n        {\n            \"passenger_id\": \"ST2787\",\n            \"passenger_name\": \"Hitang Sonam\",\n            \"passenger_type\": \"CHD\"\n        }\n    ],\n    \"bookingReferenceID\": \"5f982584-4ece-4b6c-9c9b-370964e1318f\",\n    \"tripType\": \"oneway\"\n}\n</code></pre> <p>}</p> <pre><code>{\n    \"totalCost\": 15384,\n    \"bearerToken\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUz\",\n    \"flightsSummary\": {\n        \"departureFlight\": {\n            \"carrierCode\": \"GUA\",\n            \"carrierLogo\": \"https://sastotickets-uat-flights.s3.ap-southeast-1.amazonaws.com/airlines/1660816647-1480147710.png\",\n            \"carrierName\": \"Guna Airlines\",\n            \"deptDate\": \"2023-01-01\",\n            \"deptTime\": \"08:00 AM\",\n            \"arrivalDate\": \"2023-01-01\",\n            \"arrivalTime\": \"08:23 AM\",\n            \"departureAirportCode\": \"KTM\",\n            \"departureAirport\": \"Tribhuvan Int\u2019l Airport\",\n            \"departureCity\": \"Kathmandu\",\n            \"departureCountry\": \"Nepal\",\n            \"arrivalAirportCode\": \"PKR\",\n            \"arrivalAirport\": \"Pokhara Airport\",\n            \"arrivalCity\": \"Pokhara\",\n            \"arrivalCountry\": \"Nepal\"\n        },\n        \"returnFlight\": {\n            \"carrierCode\": \"GUA\",\n            \"carrierLogo\": \"https://sastotickets-uat-flights.s3.ap-southeast-1.amazonaws.com/airlines1660816647-1480147710.png\",\n            \"carrierName\": \"Guna Airlines\",\n            \"deptDate\": \"2023-01-01\",\n            \"deptTime\": \"08:00 AM\",\n            \"arrivalDate\": \"2023-01-01\",\n            \"arrivalTime\": \"08:23 AM\",\n            \"departureAirportCode\": \"KTM\",\n            \"departureAirport\": \"Tribhuvan Int\u2019l Airport\",\n            \"departureCity\": \"Kathmandu\",\n            \"departureCountry\": \"Nepal\",\n            \"arrivalAirportCode\": \"PKR\",\n            \"arrivalAirport\": \"Pokhara Airport\",\n            \"arrivalCity\": \"Pokhara\",\n            \"arrivalCountry\": \"Nepal\"\n        }\n    },\n    \"emergencyContact\": {\n        \"contact\": \"9849123456\",\n        \"email\": \"info@sastotickets.com\",\n        \"name\": \"SastoTicket\"\n    },\n    \"bookingSummary\": {\n        \"PNR\": \"BNY5SO\",\n        \"currency\": \"NPR\",\n        \"fareInformation\": {\n            \"cashBack\": 0,\n            \"total_adt\": 74635,\n            \"total_chd\": 0,\n            \"total_cost\": 74635,\n            \"total_inf\": 0\n        },\n        \"passengers\": [\n            {\n                \"passenger_id\": \"ST2785\",\n                \"passenger_name\": \"Gurung Sujan\",\n                \"passenger_type\": \"ADT\"\n            },\n            {\n                \"passenger_id\": \"ST2786\",\n                \"passenger_name\": \"Thapa Bardan\",\n                \"passenger_type\": \"ADT\"\n            },\n            {\n                \"passenger_id\": \"ST2787\",\n                \"passenger_name\": \"Hitang Sonam\",\n                \"passenger_type\": \"CHD\"\n            }\n        ],\n        \"bookingReferenceID\": \"5f982584-4ece-4b6c-9c9b-370964e1318f\",\n        \"tripType\": \"round\"\n    }\n}\n</code></pre>"},{"location":"#failure-url","title":"Failure URL","text":"<p>The failure URL is the web page where the user will be redirected if any error occurs during the flight booking and ticketing process. Similar to the success URL, ensure that the failure URL will receive any relevent error information as shown below</p>"},{"location":"#example","title":"Example","text":"<pre><code> https://domain.com/failure?message=\"Unexpected Error\"\n</code></pre> <p>In the example, the failure URL includes a query parameter called message, which contains the relevent message for the error.</p>"}]}